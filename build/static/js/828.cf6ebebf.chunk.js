"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[828],{88396:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(72791),a=t(1413),s=t(57689),i=r.lazy((function(){return t.e(869).then(t.bind(t,62869))})),o=r.lazy((function(){return t.e(834).then(t.bind(t,36834))})),u=r.lazy((function(){return t.e(675).then(t.bind(t,23706))})),c=r.lazy((function(){return Promise.all([t.e(254),t.e(178),t.e(871)]).then(t.bind(t,62999))})),l=r.lazy((function(){return Promise.all([t.e(254),t.e(178),t.e(706)]).then(t.bind(t,84191))})),m=r.lazy((function(){return Promise.all([t.e(254),t.e(178),t.e(569)]).then(t.bind(t,92255))})),d=r.lazy((function(){return Promise.all([t.e(254),t.e(901)]).then(t.bind(t,17486))})),h=r.lazy((function(){return t.e(145).then(t.bind(t,81145))})),f=r.lazy((function(){return t.e(288).then(t.bind(t,288))})),p=[{path:"/",exact:!0,name:"Home",element:i},{path:"/auth/register",name:"Register",element:u},{path:"/auth/profile",name:"Profile",element:o},{path:"/survey/search",name:"Search",element:c},{path:"/survey/create",name:"Survey",element:d},{path:"/survey/detail/:sur_id",name:"Survey Detail",element:r.lazy((function(){return Promise.all([t.e(177),t.e(37)]).then(t.bind(t,12037))}))},{path:"/survey/prtcpList",name:"PrtcpList",element:l},{path:"/survey/makeList",name:"MakeList",element:m},{path:"/survey/answer/register/:sur_id",name:"Survey Participate",element:h},{path:"/survey/answer/edit/:sur_id",name:"Survey Modify",element:f},{path:"/group/list",name:"Group List",element:r.lazy((function(){return t.e(476).then(t.bind(t,53476))}))},{path:"/group/create",name:"Group Create",element:r.lazy((function(){return t.e(743).then(t.bind(t,79743))}))},{path:"/group/detail/:group_id",name:"Group Detail",element:r.lazy((function(){return t.e(824).then(t.bind(t,37824))}))},{path:"/analysis/ad_survey_analysis",name:"Ad Survey analysis",element:r.lazy((function(){return Promise.all([t.e(177),t.e(11)]).then(t.bind(t,64011))}))},{path:"/analysis/survey_vulgarism_list",name:"Survey Vulgarism List",element:r.lazy((function(){return t.e(982).then(t.bind(t,51982))}))},{path:"/admin/CategoryList",name:"Category List",element:r.lazy((function(){return t.e(830).then(t.bind(t,81288))}))}],x=t(78983),v=t(80184),j=function(){var e=(0,s.TH)().pathname,n=function(e){var n=[];return e.split("/").reduce((function(e,t,r,a){var s="".concat(e,"/").concat(t),i=function(e,n){var t=n.find((function(n){return n.path===e}));return!!t&&t.name}(s,p);return i&&n.push({pathname:s,name:i,active:r+1===a.length}),s})),n}(e);return(0,v.jsxs)(x.fj,{className:"m-0 ms-2",children:[(0,v.jsx)(x.Sd,{href:"/",children:"Home"}),n.map((function(e,n){return(0,r.createElement)(x.Sd,(0,a.Z)((0,a.Z)({},e.active?{active:!0}:{href:e.pathname}),{},{key:n}),e.name)}))]})},y=r.memo(j),g=function(){return(0,v.jsx)(x.KB,{lg:!0,children:(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(x.LQ,{color:"primary"}),children:(0,v.jsxs)(s.Z5,{children:[p.map((function(e,n){return e.element&&(0,v.jsx)(s.AW,{path:e.path,exact:e.exact,name:e.name,element:(0,v.jsx)(e.element,{})},n)})),(0,v.jsx)(s.AW,{path:"/",element:(0,v.jsx)(s.Fg,{to:"dashboard",replace:!0})})]})})})},b=r.memo(g),_=function(){return(0,v.jsxs)(x.pG,{children:[(0,v.jsx)("div",{children:(0,v.jsx)("span",{className:"ms-1",children:"Survey Based Data Sharing Platform "})}),(0,v.jsx)("div",{className:"ms-auto",children:(0,v.jsx)("span",{children:" 2022 KEP SW ACADEMY"})})]})},S=r.memo(_),Z=t(59434),N=t(24846),k=t(31389),z=t(62412),L=t(63232),w=t.p+"static/media/test_profile.400c064f5d8d58998baf.jpeg",P=function(){return(0,v.jsxs)(x.w5,{variant:"nav-item",children:[(0,v.jsx)(x.SQ,{placement:"bottom-end",className:"py-0",caret:!1,children:(0,v.jsx)(x.cU,{src:w,size:"md"})}),(0,v.jsxs)(x.$H,{className:"pt-0",placement:"bottom-end",children:[(0,v.jsxs)(x.$f,{href:"/#/auth/profile",children:[(0,v.jsx)(N.Z,{icon:z.E,className:"me-2"}),"Profile"]}),(0,v.jsxs)(x.$f,{href:"#",children:[(0,v.jsx)(N.Z,{icon:L.U,className:"me-2"}),"Logout"]})]})]})},C=function(){var e=(0,Z.I0)(),n=(0,Z.v9)((function(e){return e.sidebarShow})),t=(0,Z.v9)((function(e){return{user:e.user.user}})).user;return(0,v.jsxs)(x.PO,{position:"sticky",className:"mb-4",children:[(0,v.jsxs)(x.KB,{fluid:!0,children:[(0,v.jsx)(x.X4,{className:"ps-1",onClick:function(){return e({type:"set",sidebarShow:!n})},children:(0,v.jsx)(N.Z,{icon:k.N,size:"lg"})}),(0,v.jsx)("span",{className:"mx-auto d-md-none",to:"/",children:(0,v.jsx)("a",{className:"main_logo_mobile",href:"/#",children:" \u2601\ufe0f SURVEY PLATFORM \u2601\ufe0f "})}),(0,v.jsx)(x.g3,{className:"d-none d-md-flex me-auto"}),(0,v.jsx)(x.g3,{children:null!=t?t.info.userId:null}),(0,v.jsx)(x.g3,{className:"ms-3",children:null!=t?(0,v.jsx)(P,{}):(0,v.jsx)(x.U6,{children:(0,v.jsx)(x.AQ,{href:"/#/login",children:"Login"})})})]}),(0,v.jsx)(x.rc,{}),(0,v.jsx)(x.KB,{fluid:!0,children:(0,v.jsx)(y,{})})]})},A=t(70885),U=t(45987),E=t(11087),O=["component","name","badge","icon"],I=["component","name","icon","to"],R=function(e){var n=e.items,t=(0,s.TH)(),i=function(e,n,t){return(0,v.jsxs)(v.Fragment,{children:[n&&n,e&&e,t&&(0,v.jsx)(x.C_,{color:t.color,className:"ms-auto",children:t.text})]})},o=function(e,n){var t=e.component,s=e.name,o=e.badge,u=e.icon,c=(0,U.Z)(e,O),l=t;return(0,r.createElement)(l,(0,a.Z)((0,a.Z)({},c.to&&!c.items&&{component:E.OL}),{},{key:n},c),i(s,u,o))},u=function e(n,r){var s,u=n.component,c=n.name,l=n.icon,m=n.to,d=(0,U.Z)(n,I),h=u;return(0,v.jsx)(h,(0,a.Z)((0,a.Z)({idx:String(r),toggler:i(c,l),visible:t.pathname.startsWith(m)},d),{},{children:null===(s=n.items)||void 0===s?void 0:s.map((function(n,t){return n.items?e(n,t):o(n,t)}))}),r)};return(0,v.jsx)(r.Fragment,{children:n&&n.map((function(e,n){return e.items?u(e,n):o(e,n)}))})},B=t(34358),T=(t(82454),t(19261)),D=t(82388),F=t(38876),H=t(66369),M=function(){var e=(0,Z.I0)(),n=(0,Z.v9)((function(e){return e.sidebarUnfoldable})),t=(0,Z.v9)((function(e){return e.sidebarShow})),r=(0,Z.v9)((function(e){return{user:e.user.user}})).user,a=null;if(null!=r){var s=r.token.access_token;a={Authorization:"Bearer "+s}}var i=(0,H.Z)((function(){return D.Z.get(F.Z.menuList,{headers:a})}),[]),o=(0,A.Z)(i,3),u=(o[0],o[1]),c=(o[2],[]);null!=u&&u.data.map((function(e){c.push({component:x.fd,name:e.menuName}),e.menuList.map((function(e){for(var n=[],t=0;t<e.menuList.length;t++)n.push({component:x.U6,name:e.menuList[t].menuName,to:e.menuList[t].menuUrl});c.push({component:x.dw,name:e.menuName,to:"/",icon:(0,v.jsx)(N.Z,{icon:T.o,customClassName:"nav-icon"}),items:n})}))}));return(0,v.jsxs)(x.z3,{position:"fixed",unfoldable:n,visible:t,onVisibleChange:function(n){e({type:"set",sidebarShow:n})},children:[(0,v.jsx)(x.Dl,{className:"d-none d-md-flex",to:"/",children:(0,v.jsx)("a",{className:"main_logo",href:"/#",children:" \u2601\ufe0f SURVEY PLATFORM \u2601\ufe0f "})}),(0,v.jsx)(x.Xk,{children:(0,v.jsx)(B.Z,{children:(0,v.jsx)(R,{items:c})})}),(0,v.jsx)(x.iv,{className:"d-none d-lg-flex",onClick:function(){return e({type:"set",sidebarUnfoldable:!n})}})]})},G=r.memo(M),J=function(){return(0,v.jsxs)("div",{children:[(0,v.jsx)(G,{}),(0,v.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,v.jsx)(C,{}),(0,v.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,v.jsx)(b,{})}),(0,v.jsx)(S,{})]})]})}},66369:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(74165),a=t(15861),s=t(70885),i=t(72791),o=t(82388),u=t(38876);function c(e,n){var t=(0,i.useState)(!1),o=(0,s.Z)(t,2),u=o[0],c=o[1],l=(0,i.useState)(null),m=(0,s.Z)(l,2),d=m[0],h=m[1],f=(0,i.useState)(null),p=(0,s.Z)(f,2),x=p[0],v=p[1];return(0,i.useEffect)((function(){var n=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.prev=1,n.next=4,e();case 4:t=n.sent,h(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),v(n.t0);case 11:c(!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();n()}),n),[u,d,x]}o.Z.interceptors.request.use((function(e){var n=null,t=localStorage.getItem("user");return t&&e.url!=u.Z.refreshToken&&(n=JSON.parse(t).token.access_token),null!==n&&(e.headers.Authorization="Bearer ".concat(n)),e})),o.Z.interceptors.response.use((function(e){return e}),(function(e){return new Promise((function(n,t){var r=e.config;if(401===e.response.status&&e.config&&!e.config.__isRetryRequest){r._retry=!0;var a=localStorage.getItem("user"),s=(JSON.parse(a).token.access_token,JSON.parse(a).token.refresh_token);o.Z.post(u.Z.refreshToken,{refresh_token:s}).then((function(e){return localStorage.setItem("user",JSON.stringify(e.data)),(0,o.Z)(r)})).catch((function(){return localStorage.removeItem("user"),window.location.href="/",!1}))}return Promise.reject(e)}))}))}}]);
//# sourceMappingURL=828.cf6ebebf.chunk.js.map