"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[37],{12037:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var s=t(70885),a=t(72791),r=t(78983),l=t(25847),i=(t(63120),t(74165)),c=t(15861),o=t(23177),u=t(66369),d=t(82388),x=t(38876),j=t(80184),m=function(e){var n=(0,a.useState)([]),t=(0,s.Z)(n,2),l=t[0],u=t[1],m=(0,a.useState)([]),b=(0,s.Z)(m,2),h=b[0],p=b[1],f=(0,a.useState)([]),v=(0,s.Z)(f,2),y=v[0],g=v[1],I=(0,a.useState)([]),N=(0,s.Z)(I,2),q=N[0],C=N[1],O={subject:"",labels:[],values:[]},Z=function(){var n=(0,c.Z)((0,i.Z)().mark((function n(){var t,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,i.Z)().mark((function n(t){var s,a,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("".concat(x.Z.surveyAnalysisData,"?analysis_Id=").concat(t,"&sur_id=").concat(e.surId));case 2:s=n.sent,O.subject=s.data[0].analysisId.subject,a=[],r=[],s.data.map((function(e){a.push(e.optionName),r.push(e.value)})),O.labels=a,O.values=r,1===t?u({subject:s.data[0].analysisId.subject,label:a,value:r}):2===t?p({subject:s.data[0].analysisId.subject,label:a,value:r}):3===t?g({subject:s.data[0].analysisId.subject,label:a,value:r}):4===t&&C({subject:s.data[0].analysisId.subject,label:a,value:r});case 10:case"end":return n.stop()}}),n)})),s=1;case 2:if(!(s<5)){n.next=7;break}return n.delegateYield(t(s),"t0",4);case 4:s++,n.next=2;break;case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){Z()}),[]),(0,j.jsxs)(r.rb,{children:[(0,j.jsx)(r.b7,{xs:6,children:(0,j.jsxs)(r.xH,{className:"mb-4",children:[(0,j.jsx)(r.bn,{children:l.subject}),(0,j.jsx)(r.sl,{children:(0,j.jsx)(o.JZ,{data:{labels:l.label,datasets:[{label:l.subject,backgroundColor:"#cfd0fe",data:l.value}]},labels:"months"})})]})}),(0,j.jsx)(r.b7,{xs:6,children:(0,j.jsxs)(r.xH,{className:"mb-4",children:[(0,j.jsx)(r.bn,{children:h.subject}),(0,j.jsx)(r.sl,{children:(0,j.jsx)(o.oK,{data:{labels:h.label,datasets:[{label:h.subject,backgroundColor:"rgba(220, 220, 220, 0.2)",borderColor:"rgba(220, 220, 220, 1)",pointBackgroundColor:"rgba(220, 220, 220, 1)",pointBorderColor:"#fff",data:h.value}]}})})]})}),(0,j.jsx)(r.b7,{xs:6,children:(0,j.jsxs)(r.xH,{className:"mb-4",children:[(0,j.jsx)(r.bn,{children:y.subject}),(0,j.jsx)(r.sl,{children:(0,j.jsx)(o.oK,{data:{labels:y.label,datasets:[{label:y.subject,backgroundColor:"rgba(220, 220, 220, 0.2)",borderColor:"rgba(220, 220, 220, 1)",pointBackgroundColor:"rgba(220, 220, 220, 1)",pointBorderColor:"#fff",data:y.value}]}})})]})}),(0,j.jsx)(r.b7,{xs:6,children:(0,j.jsxs)(r.xH,{className:"mb-4",children:[(0,j.jsx)(r.bn,{children:q.subject}),(0,j.jsx)(r.sl,{children:(0,j.jsx)(o.JZ,{data:{labels:q.label,datasets:[{label:q.subject,backgroundColor:"#cfd0fe",data:q.value}]},labels:"months"})})]})})]})},b=(t(59434),function(e){var n=e.questionList;return(0,j.jsx)("div",{className:"mt-3",children:(0,j.jsx)(r.uz,{alwaysOpen:!0,children:n.map((function(e,n){return(0,j.jsxs)(r.Ob,{itemKey:n+1,children:[(0,j.jsxs)(r.Lv,{children:[n+1,". ",e.content," "]}),(0,j.jsxs)(r.qI,{children:["YN"===e.questionType&&(0,j.jsx)(j.Fragment,{children:e.optionList.map((function(n){return(0,j.jsx)(r.EC,{type:"radio",name:e.queId,label:n.optionName,value:n.optionName},n.queOptId)}))}),"NumOnly"===e.questionType&&(0,j.jsx)(j.Fragment,{children:e.optionList.map((function(n){return(0,j.jsx)(r.EC,{type:"radio",name:e.queId,label:n.optionName,value:n.optionName},n.queOptId)}))}),"NumMul"===e.questionType&&(0,j.jsx)(j.Fragment,{children:e.optionList.map((function(n){return(0,j.jsx)(r.EC,{type:"checkbox",name:e.queId,label:n.optionName,value:n.optionName},n.queOptId)}))}),"Sub"===e.questionType&&(0,j.jsx)(r.PB,{name:"content"}),"Grd"==e.questionType&&(0,j.jsx)(r.ZB,{name:"content",min:"0",max:"100",step:"10"})]})]},e.queId)}))})})}),h=t(57689),p=function(){var e=(0,a.useState)(1),n=(0,s.Z)(e,2),t=n[0],i=n[1],c=(0,h.UO)().sur_id,o=null,p=[],f=(0,u.Z)((function(){return d.Z.post(x.Z.surveyDetail,{sur_id:c},{headers:{"Content-Type":"multipart/form-data"}})}),[]),v=(0,s.Z)(f,3),y=(v[0],v[1]);v[2];null!=y&&(o=y.data.info,p=y.data.question_list);return(0,j.jsx)(r.rb,{children:(0,j.jsx)(r.b7,{xs:12,children:(0,j.jsxs)(r.xH,{className:"mb-4",children:[(0,j.jsxs)(r.bn,{children:[(0,j.jsx)("strong",{children:" \uc124\ubb38 \uc0c1\uc138 "}),(0,j.jsx)("small",{children:" \uc124\ubb38\uc758 \uc0c1\uc138 \uc815\ubcf4\ub97c \uc870\ud68c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),(0,j.jsx)(r.sl,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(l.Z,{surInfo:o}),(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"10vh"},children:(0,j.jsxs)(r.n2,{variant:"pills",role:"tablist",children:[(0,j.jsx)(r.U6,{children:(0,j.jsx)(r.AQ,{href:"javascript:void(0);",active:1===t,onClick:function(){return i(1)},children:"\uc124\ubb38 \uc870\ud68c"})}),(0,j.jsx)(r.U6,{children:(0,j.jsx)(r.AQ,{href:"javascript:void(0);",active:2===t,onClick:function(){return i(2)},children:"\uc124\ubb38 \uacb0\uacfc"})})]})}),(0,j.jsxs)(r.gr,{children:[(0,j.jsx)(r.IA,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===t,children:(0,j.jsx)(b,{questionList:p})}),(0,j.jsx)(r.IA,{role:"tabpanel","aria-labelledby":"profile-tab",visible:2===t,children:(0,j.jsx)(m,{surId:c})})]}),(0,j.jsx)(r.b7,{lg:12,className:"text-start d-flex mt-3",children:(0,j.jsx)(r.u5,{color:"primary",className:"ms-auto",variant:"outline",onClick:function(e){return n="#/survey/answer/register",t=c,void(window.location.href=n+"/"+t);var n,t},children:"participate"})})]})})]})})})}},63120:function(e,n,t){var s=t(42982),a=t(70885),r=t(72791),l=t(59434),i=t(78983),c=t(82388),o=t(38876),u=(t(66369),t(80184));n.Z=function(e){var n=e.surId,t=e.questionList,d=(0,l.v9)((function(e){return{user:e.user.user}})).user,x=d.info.userId,j=(0,r.useState)([]),m=(0,a.Z)(j,2),b=m[0],h=m[1],p=function(e,n){var t={queId:n,type:0,content:e.target.value,regId:x};h(b.filter((function(e){return e.queId!==n}))),h((function(e){return[].concat((0,s.Z)(e),[t])}))},f=d.token.access_token;return(0,u.jsxs)("div",{className:"mt-3",children:[(0,u.jsx)(i.uz,{alwaysOpen:!0,children:t.map((function(e,n){return(0,u.jsxs)(i.Ob,{itemKey:n+1,children:[(0,u.jsxs)(i.Lv,{children:[n+1,". ",e.content," "]}),(0,u.jsxs)(i.qI,{children:["YN"===e.questionType&&(0,u.jsx)(u.Fragment,{children:e.optionList.map((function(n){return(0,u.jsx)(i.EC,{type:"radio",name:e.queId,label:n.optionName,value:n.optionName,onChange:function(n){return p(n,e.queId)}},n.queOptId)}))}),"NumOnly"===e.questionType&&(0,u.jsx)(u.Fragment,{children:e.optionList.map((function(n){return(0,u.jsx)(i.EC,{type:"radio",name:e.queId,label:n.optionName,value:n.optionName,onChange:function(n){return p(n,e.queId)}},n.queOptId)}))}),"NumMul"===e.questionType&&(0,u.jsx)(u.Fragment,{children:e.optionList.map((function(n){return(0,u.jsx)(i.EC,{type:"checkbox",name:e.queId,label:n.optionName,value:n.optionName,onChange:function(n){return p(n,e.queId)}},n.queOptId)}))}),"Sub"===e.questionType&&(0,u.jsx)(i.PB,{name:"content",onBlur:function(n){return p(n,e.queId)}}),"Grd"==e.questionType&&(0,u.jsx)(i.ZB,{name:"content",min:"0",max:"100",step:"10",onChange:function(n){return p(n,e.queId)}})]})]},e.queId)}))}),(0,u.jsx)(i.b7,{lg:12,className:"text-start d-flex mt-1",children:(0,u.jsx)(i.u5,{color:"primary",href:"#",className:"ms-auto",variant:"outline",onClick:function(){c.Z.post(o.Z.answerRegister,{surId:n,answerDTOList:b}).then((function(e){window.location.reload("/#/survey/detail/".concat(n),{headers:{Authorization:"Bearer "+f}})}))},children:"send"})})]})}},25847:function(e,n,t){t(72791);var s=t(78983),a=t(72426),r=t.n(a),l=t(80184);n.Z=function(e){var n=e.surInfo;return console.log(n),(0,l.jsxs)("div",{children:[(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"surveyName",className:"col-sm-2 col-form-label",children:"\uc124\ubb38\uba85"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"surveyName",value:n?n.title:null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"category",className:"col-sm-2 col-form-label",children:"\uce74\ud14c\uace0\ub9ac"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"category",value:n?n.categoryContent:null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"description",className:"col-sm-2 col-form-label",children:"\uc124\ubb38\uc124\uba85"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"description",value:n?n.description:null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"publicYn",className:"col-sm-2 col-form-label",children:"\uacf5\uac1c\uc5ec\ubd80"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"publicYn",value:n?"Y"==n.isPrivateYn?"\ub300\uc0c1\uc790 \uacf5\uac1c":"\uc804\uccb4 \uacf5\uac1c":null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"regDt",className:"col-sm-2 col-form-label",children:"\ub4f1\ub85d\uc77c"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"regDt",value:n?r()(new Date(n.regDt)).format("YYYY-MM-DD"):null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"regDt",className:"col-sm-2 col-form-label",children:"\ub9c8\uac10\uc77c"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"regDt",value:n?r()(new Date(n.dueDt)).format("YYYY-MM-DD"):null,readOnly:!0,plainText:!0})})]}),(0,l.jsxs)(s.rb,{children:[(0,l.jsx)(s.L8,{htmlFor:"regId",className:"col-sm-2 col-form-label",children:"\uc124\ubb38 \ub4f1\ub85d\uc790"}),(0,l.jsx)(s.b7,{sm:10,children:(0,l.jsx)(s.jO,{type:"text",id:"regId",value:n?n.regId:null,readOnly:!0,plainText:!0})})]})]})}}}]);
//# sourceMappingURL=37.52a7f7a6.chunk.js.map